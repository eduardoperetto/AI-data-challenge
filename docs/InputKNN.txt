# A partir do JSON de input, como gerar um CSV de entrada pro KNN?
# Objetivo é que o .csv fique com as seguintes colunas:
client_id,server_id,dash{id}_elapsed_mean,dash{id}_elapsed_stdev,dash{id}_ticks_mean,dash{id}_ticks_stdev,dash{id}_rate_mean,dash{id}_rate_stdev,dash{id}_received_mean,dash{id}_received_stdev, # (id vai de 0 a 9)
rtt{id}_mean_rtt, # (id de 0 a 9)
tr{id}_count,tr{id}_rtt_mean,tr{id}_rtt_stdev # (id de 0 a 4)

Para cada ArqJSON em converted_input
    MedidasDash = []
    MedidasRTT = []
    MedidasTraceRoute = []

    Para cada MedicaoDash no ArqJSON
        Calcula mean e stdev de elapsed, request_ticks, rate e received
        Adciona objeto com medidas em MedidasDash
    Se len(MedidasDash) < 10
        Printa e desconsidera esse ArqJSON
    Enquanto MedidasDash for maior que 10
        Descarta primeiro elemento (mais antigo) de MedidasDash
    Assert(len(MedidasDash) == 10)

    Para cada MedicaoRTT no ArqJSON
        Calcula média ponderada e desvio padrão do RTT a partir do histograma
        Adciona objeto com medidas em MedidasRTT
    Se len(MedidasRTT) < 10
        Preenche 5 medidas com zeros # e seta flag_rtt = 0
    Enquanto MedidasRTT for maior que 10
        Descarta primeiro elemento (mais antigo) de MedidasRTT
    Assert(len(MedidasRTT) == 10)

    Para cada MedicaoTraceRoute no ArqJSON
        Calcula número de redirecionamentos, média de RTT e desvio padrão de RTT
        Adciona objeto com medidas em MedidasTraceRoute
    Se len(MedidasTraceRoute) < 5
        Preenche 5 medidas com zeros # e seta flag_traceroute = 0
    Enquanto MedidasTraceRoute for maior que 5
        Descarta primeiro elemento (mais antigo) de MedidasTraceRoute
    Assert(len(MedidasTraceRoute) == 5)

    Gera CSV com as seguintes colunas: (2 + 8*10 + 2*10 + 3*5 = 117 colunas)
        client_id,server_id, # Colocar flag_rtt e flag_traceroute ?
        dash0_elapsed_mean,dash0_elapsed_stdev,dash0_ticks_mean,dash0_ticks_stdev,dash0_rate_mean,dash0_rate_stdev,dash0_received_mean,dash0_received_stdev,
        rtt0_rtt_mean, rtt0_rtt_stdev,
        tr0_forwards,tr0_rtt_mean,tr0_rtt_stdev
